:root{
  --accent:#ff6ba6; /* pink */
  --accent-2:#ff9ccf;
  --bg-gradient: linear-gradient(180deg, rgba(255,107,166,0.12), rgba(255,156,207,0.06));
  --card-bg: rgba(255,255,255,0.85);
  --glass: rgba(255,255,255,0.6);
  --text-dark:#111214;
  --text-light:#f7f7fb;
  --muted: #6b6b77;
  --shadow: 0 8px 30px rgba(16,16,24,0.12);
}

*{box-sizing:border-box}
html,body,#app{height:100%;}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(255,107,166,0.08), transparent), radial-gradient(800px 500px at 90% 90%, rgba(255,156,207,0.06), transparent), var(--bg-gradient), #fff;
  color:var(--text-dark);
  min-height:100dvh; /* respect dynamic viewport */
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:calc(12px + env(safe-area-inset-top)) 18px 12px 18px; /* safe top padding for mobile */
  gap:12px;
  position:relative;
  z-index:20;
}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-size:22px;box-shadow:var(--shadow);}
.titles{line-height:1}
#deck-title{font-weight:700;font-size:14px}
#deck-sub{font-size:12px;color:var(--muted)}

.controls{display:flex;align-items:center;gap:12px}
.counter{background:rgba(255,255,255,0.7);padding:6px 10px;border-radius:10px;font-weight:600;box-shadow:var(--shadow);}
.nav-buttons{display:flex;gap:8px}
.btn{background:linear-gradient(180deg,var(--accent),var(--accent-2));border:none;color:white;padding:8px 12px;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(255,107,166,0.18);}
.btn.ghost{background:transparent;color:var(--text-dark);box-shadow:none;border:1px solid rgba(16,16,24,0.06)}
.btn.subtle{background:transparent;color:var(--text-dark);border:1px dashed rgba(16,16,24,0.06);padding:6px 10px}

/* Stage */
.stage{
  position:relative;
  width:100%;
  height:calc(100dvh - 92px);
  display:block;
  overflow:hidden;
  padding:18px clamp(14px,4vw,40px) 18px clamp(14px,4vw,40px);
}

.slide{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
  pointer-events:none;
  opacity:0;
  transform:translateY(12px) scale(0.995);
  transition:transform 420ms cubic-bezier(.2,.9,.2,1), opacity 320ms ease;
  will-change:opacity,transform;
}
.slide.visible{opacity:1;transform:none;pointer-events:auto}

.card{
  width:100%;
  max-width:1100px;
  height:100%;
  border-radius:18px;
  padding:36px;
  display:flex;
  flex-direction:column;
  gap:18px;
  box-shadow:var(--shadow);
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
  border: 1px solid rgba(16,16,24,0.03);
}

.header-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.slide h1{margin:0;font-weight:800;font-size:38px;letter-spacing:-0.6px}
.slide h2{margin:0;font-weight:600;font-size:18px;color:var(--muted)}

.content{flex:1;display:flex;flex-direction:column;gap:14px;overflow:auto;padding-right:6px}
.content p{margin:0;font-size:18px;color:var(--text-dark)}
.content ul{margin:0;padding-left:20px}
.content li{margin-bottom:8px}
.small{color:var(--muted);font-size:13px}
.note{background:linear-gradient(90deg, rgba(255,230,240,0.6), rgba(255,247,250,0.6));padding:12px;border-radius:12px;border:1px solid rgba(255,107,166,0.08);font-weight:600}

.footer-strip{position:relative;z-index:10;padding:14px 24px}
.progress{height:6px;background:rgba(16,16,24,0.06);border-radius:999px}
.progress-fill{height:6px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%}

.overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(12,12,16,0.24);z-index:60}
.overlay.hidden{display:none}
.overlay-card{background:var(--card-bg);padding:18px;border-radius:12px;box-shadow:var(--shadow);min-width:260px;text-align:center}

/* Compact mode for small viewport height */
@media (max-height:700px){
  .card{padding:18px;border-radius:12px}
  .slide h1{font-size:28px}
  .slide h2{font-size:14px}
  .content p{font-size:15px}
  .stage{padding:12px}
}

/* Printing / Export: disable animations */
body.exporting *, .no-anim *{transition:none!important;animation:none!important}

/* Dark/light text auto switch classes */
body.light-text{color:var(--text-dark)}
body.dark-text{color:var(--text-light)}

/* ensure top headline is never under url bar on mobile */
.card{padding-top:calc(36px + env(safe-area-inset-top));}

/* small touches */
.note{box-shadow:0 6px 20px rgba(255,107,166,0.06)}

